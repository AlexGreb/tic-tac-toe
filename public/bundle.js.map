{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://tick-tack-toe/./node_modules/events/events.js","webpack://tick-tack-toe/webpack/bootstrap","webpack://tick-tack-toe/webpack/runtime/compat get default export","webpack://tick-tack-toe/webpack/runtime/define property getters","webpack://tick-tack-toe/webpack/runtime/hasOwnProperty shorthand","webpack://tick-tack-toe/./js/utils/dom/render.js","webpack://tick-tack-toe/./js/utils/event-emmiter.js","webpack://tick-tack-toe/./js/views/abstract-view.js","webpack://tick-tack-toe/./js/views/common/loader.js","webpack://tick-tack-toe/./node_modules/modal-vanilla/lib/modal.js","webpack://tick-tack-toe/./js/modals/modal-searching-game.js","webpack://tick-tack-toe/./js/views/welcome/welcome-view.js","webpack://tick-tack-toe/./js/data/settings.js","webpack://tick-tack-toe/./js/helpers/network/network-helper.js","webpack://tick-tack-toe/./js/network/websocket.js","webpack://tick-tack-toe/./js/network/peer-connector.js","webpack://tick-tack-toe/./js/services/connection/connection-service.js","webpack://tick-tack-toe/./js/game/welcome-screen.js","webpack://tick-tack-toe/./js/helpers/settings/settings-helper.js","webpack://tick-tack-toe/./js/views/settings/settings-view.js","webpack://tick-tack-toe/./js/templates/characters-list.js","webpack://tick-tack-toe/./js/views/game/game-view.js","webpack://tick-tack-toe/./js/helpers/image/image-helpers.js","webpack://tick-tack-toe/./js/router.js","webpack://tick-tack-toe/./js/game/settings-screen.js","webpack://tick-tack-toe/./js/helpers/form/form-helper.js","webpack://tick-tack-toe/./js/game/game-screen.js","webpack://tick-tack-toe/./js/models/game-model.js","webpack://tick-tack-toe/./js/main.js"],"sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export const render = (html, className) => {\n    const wrapper = document.createElement(`div`);\n    if(className){\n        wrapper.classList.add(className);\n    }\n    wrapper.insertAdjacentHTML('afterbegin', html.trim());\n    return wrapper.children[0];\n}","class EventEmitter {\n  constructor() {\n    this.events = {};\n  }\n\n  emit(eventName, data) {\n    const event = this.events[eventName];\n    if (event) {\n      event.forEach((fn) => {\n        fn.call(null, data);\n      });\n    }\n  }\n\n  subscribe(eventName, fn) {\n    if (fn != null) {\n      if (!this.events[eventName]) {\n        this.events[eventName] = [];\n      }\n\n      this.events[eventName].push(fn);\n      return () => {\n        this.events[eventName] = this.events[eventName].filter((eventFn) => fn !== eventFn);\n      };\n    }\n  }\n}\n\nexport default EventEmitter;\n","import { render } from '../utils/dom/render.js';\nimport EventEmmiter from '../utils/event-emmiter.js';\n\nclass AbstractView extends EventEmmiter {\n  constructor() {\n    super();\n    if (new.target === AbstractView) {\n      throw new Error(`Can't instantiate AbstractView, only concrete one`);\n    }\n  }\n\n  get template() {\n    throw new Error(`Template is required`);\n  }\n\n  get element() {\n    if (this._element) {\n      return this._element;\n    }\n\n    this._element = this.render();\n    this.bind(this._element);\n    this.postRender(this._element);\n    return this._element;\n  }\n\n  render() {\n    return render(this.template, this.className);\n  }\n\n  bind() {}\n\n  postRender() {}\n}\n\nexport default AbstractView;\n","import { render } from '../../utils/dom/render.js';\n\nexport default class Loader {\n  #element = null;\n  constructor(status, width = 80, height = 80) {\n    this.status = status;\n    this.width = width;\n    this.height = height;\n  }\n\n  get element() {\n    if (this.#element != null) {\n      return this.#element;\n    }\n\n    this.#element = render(this.template, `loader`);\n    return this.element;\n  }\n\n  get template() {\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" \n                width=\"${this.width}\"\n                height=\"${this.height}\"\n                viewBox=\"0 0 100 100\">\n                <path fill=\"#fff\" \n                      d=\"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50\">\n                <animateTransform \n                    attributeName=\"transform\" \n                    attributeType=\"XML\" \n                    type=\"rotate\"\n                    dur=\"1s\" \n                    from=\"0 50 50\"\n                    to=\"360 50 50\" \n                    repeatCount=\"indefinite\" />\n                    <animate attributeName=\"fill\" \n                             values=\"#ff0000;#ff7300;#fffb00; #48ff00; #00ffd5; #002bff; #7a00ff; #ff00c8; #b16161\" \n                             dur=\"3s\" \n                             repeatCount=\"indefinite\" />\n                </path>\n                ${this.status != null ? this.statusText : ``}\n            </svg>`;\n  }\n\n  changeStatus(text) {\n    const loaderTextElement = this.#element.querySelector(`.loader__text`);\n    if (loaderTextElement) {\n      loaderTextElement.nodeValue = text;\n    } else {\n      const span = document.createElement(`div`);\n      span.classList.add(`loader__text`);\n      span.nodeValue = text;\n      this.#element.appendChild(span);\n    }\n  }\n\n  get statusText() {\n    return `<div class=\"loader__text\">${this.status}</div>`;\n  }\n}\n","/**\n * Vanilla JS Modal compatible with Bootstrap\n * modal-vanilla 0.12.0 <https://github.com/KaneCohen/modal-vanilla>\n * Copyright 2020 Kane Cohen <https://github.com/KaneCohen>\n * Available under BSD-3-Clause license\n */\nimport EventEmitter from 'events';\n\nlet _factory = null;\n\nconst _defaults = Object.freeze({\n  el: null,               // Existing DOM element that will be 'Modal-ized'.\n  animate: true,          // Show Modal using animation.\n  animateClass: 'fade',   //\n  animateInClass: 'show', //\n  appendTo: 'body',       // DOM element to which constructed Modal will be appended.\n  backdrop: true,         // Boolean or 'static', Show Modal backdrop blocking content.\n  keyboard: true,         // Close modal on esc key.\n  title: false,           // Content of the title in the constructed dialog.\n  header: true,           // Show header content.\n  content: false,         // Either string or an HTML element.\n  footer: true,           // Footer content. By default will use buttons.\n  buttons: null,          //\n  headerClose: true,      // Show close button in the header.\n  construct: false,       // Creates new HTML with a given content.\n  transition: 300,        //\n  backdropTransition: 150 //\n});\n\nconst _buttons = deepFreeze({\n  dialog: [\n    {text: 'Cancel',\n      value: false,\n      attr: {\n        'class': 'btn btn-default',\n        'data-dismiss': 'modal'\n      }\n    },\n    {text: 'OK',\n      value: true,\n      attr: {\n        'class': 'btn btn-primary',\n        'data-dismiss': 'modal'\n      }\n    }\n  ],\n  alert: [\n    {text: 'OK',\n      attr: {\n        'class': 'btn btn-primary',\n        'data-dismiss': 'modal'\n      }\n    }\n  ],\n  confirm: [\n    {text: 'Cancel',\n      value: false,\n      attr: {\n        'class': 'btn btn-default',\n        'data-dismiss': 'modal'\n      }\n    },\n    {text: 'OK',\n      value: true,\n      attr: {\n        'class': 'btn btn-primary',\n        'data-dismiss': 'modal'\n      }\n    }\n  ]\n});\n\nconst _templates = {\n  container: '<div class=\"modal\"></div>',\n  dialog: '<div class=\"modal-dialog\"></div>',\n  content: '<div class=\"modal-content\"></div>',\n  header: '<div class=\"modal-header\"></div>',\n  headerClose: '<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\"></span></button>',\n  body: '<div class=\"modal-body\"></div>',\n  footer: '<div class=\"modal-footer\"></div>',\n  backdrop: '<div class=\"modal-backdrop\"></div>'\n};\n\nfunction deepFreeze(obj) {\n  for (let k in obj) {\n    if (Array.isArray(obj[k])) {\n      obj[k].forEach(v => {\n        deepFreeze(v);\n      });\n    } else if (obj[k] !== null && typeof obj[k] === 'object') {\n      Object.freeze(obj[k]);\n    }\n  }\n  return Object.freeze(obj);\n}\n\nfunction guid() {\n  return (((1 + Math.random()) * 0x10000) | 0).toString(16) +\n    (((1 + Math.random()) * 0x10000) | 0).toString(16);\n}\n\nfunction data(el, prop, value) {\n let prefix = 'data';\n let elData = el[prefix] || {};\n if (typeof value === 'undefined') {\n   if (el[prefix] && el[prefix][prop]) {\n     return el[prefix][prop];\n   } else {\n     var dataAttr = el.getAttribute(`${prefix}-${prop}`);\n     if (typeof dataAttr !== 'undefined') {\n       return dataAttr;\n     }\n     return null;\n   }\n } else {\n   elData[prop] = value;\n   el[prefix] = elData;\n   return el;\n }\n}\n\nfunction build(html, all) {\n  if (html.nodeName) return html;\n  html = html.replace(/(\\t|\\n$)/g, '');\n\n  if (!_factory) {\n    _factory = document.createElement('div');\n  }\n\n  _factory.innerHTML = '';\n  _factory.innerHTML = html;\n  if (all === true) {\n    return _factory.childNodes;\n  } else {\n    return _factory.childNodes[0];\n  }\n}\n\nfunction calcScrollbarWidth() {\n  let inner;\n  let width;\n  let outerWidth;\n  let outer = document.createElement('div');\n  Object.assign(outer.style, {\n    visibility: 'hidden',\n    width: '100px'\n  });\n  document.body.appendChild(outer);\n\n  outerWidth = outer.offsetWidth;\n  outer.style.overflow = 'scroll';\n\n  inner = document.createElement('div');\n  inner.style.width = '100%';\n  outer.appendChild(inner);\n\n  width = outerWidth - inner.offsetWidth;\n  document.body.removeChild(outer);\n\n  return width;\n}\n\nfunction getPath(node) {\n  let nodes = [node];\n  while (node.parentNode) {\n    node = node.parentNode;\n    nodes.push(node);\n  }\n  return nodes;\n}\n\nclass Modal extends EventEmitter {\n  static set templates(templates) {\n    this._baseTemplates = templates;\n  }\n\n  static get templates() {\n    return Object.assign({}, _templates, Modal._baseTemplates || {});\n  }\n\n  static set buttons(buttons) {\n    this._baseButtons = buttons;\n  }\n\n  static get buttons() {\n    return Object.assign({}, _buttons, Modal._baseButtons || {});\n  }\n\n  static set options(options) {\n    this._baseOptions = options;\n  }\n\n  static get options() {\n    return Object.assign({}, _defaults, Modal._baseOptions || {});\n  }\n\n  static get version() {\n    return '0.12.0';\n  }\n\n  static alert(message, _options = {}) {\n    let options = Object.assign({},\n      _defaults,\n      {\n        title:  message,\n        content: false,\n        construct: true,\n        headerClose: false,\n        buttons: Modal.buttons.alert\n      },\n      _options\n    );\n\n    return new Modal(options);\n  }\n\n  static confirm(question, _options = {}) {\n    let options = Object.assign({},\n      _defaults,\n      {\n        title:  question,\n        content: false,\n        construct: true,\n        headerClose: false,\n        buttons: Modal.buttons.confirm\n      },\n      _options\n    );\n\n    return new Modal(options);\n  }\n\n  constructor(options = {}) {\n    super();\n\n    this.id = guid();\n    this.el = null;\n    this._html = {};\n    this._events = {};\n    this._visible = false;\n    this._pointerInContent = false;\n    this._options = Object.assign({}, Modal.options, options);\n    this._templates = Object.assign({}, Modal.templates, options.templates || {});\n    this._html.appendTo = document.querySelector(this._options.appendTo);\n    this._scrollbarWidth = calcScrollbarWidth();\n\n    if (this._options.buttons === null) {\n      this._options.buttons = Modal.buttons.dialog;\n    }\n\n    if (this._options.el) {\n      let el = this._options.el;\n      if (typeof this._options.el == 'string') {\n        el = document.querySelector(this._options.el);\n        if (! el) {\n          throw new Error(`Selector: DOM Element ${this._options.el} not found.`);\n        }\n      }\n      data(el, 'modal', this);\n      this.el = el;\n    } else {\n      this._options.construct = true;\n    }\n\n    if (this._options.construct) {\n      this._render();\n    } else {\n      this._mapDom();\n    }\n  }\n\n  _render() {\n    let html = this._html;\n    let o = this._options;\n    let t = this._templates;\n    let animate = o.animate ? o.animateClass : false;\n\n    html.container = build(t.container);\n    html.dialog = build(t.dialog);\n    html.content = build(t.content);\n    html.header = build(t.header);\n    html.headerClose = build(t.headerClose);\n    html.body = build(t.body);\n    html.footer = build(t.footer);\n    if (animate) html.container.classList.add(animate);\n\n    this._setHeader();\n    this._setContent();\n    this._setFooter();\n\n    this.el = html.container;\n\n    html.dialog.appendChild(html.content);\n    html.container.appendChild(html.dialog);\n\n    return this;\n  }\n\n  _mapDom() {\n    let html = this._html;\n    let o = this._options;\n\n    if (this.el.classList.contains(o.animateClass)) {\n      o.animate = true;\n    }\n\n    html.container = this.el;\n    html.dialog = this.el.querySelector('.modal-dialog');\n    html.content = this.el.querySelector('.modal-content');\n    html.header = this.el.querySelector('.modal-header');\n    html.headerClose = this.el.querySelector('.modal-header .close');\n    html.body = this.el.querySelector('.modal-body');\n    html.footer = this.el.querySelector('.modal-footer');\n\n    this._setHeader();\n    this._setContent();\n    this._setFooter();\n\n    return this;\n  }\n\n  _setHeader() {\n    let html = this._html;\n    let o = this._options;\n\n    if (o.header && html.header) {\n      if (o.title.nodeName) {\n        html.header.innerHTML = o.title.outerHTML;\n      } else if (typeof o.title === 'string') {\n        html.header.innerHTML = `<h4 class=\"modal-title\">${o.title}</h4>`;\n      }\n      // Add header close button only to constructed modals.\n      if (this.el === null && html.headerClose && o.headerClose) {\n        html.header.appendChild(html.headerClose);\n      }\n      if (o.construct) {\n        html.content.appendChild(html.header);\n      }\n    }\n  }\n\n  _setContent() {\n    let html = this._html;\n    let o = this._options;\n\n    if (o.content && html.body) {\n      if (typeof o.content === 'string') {\n        html.body.innerHTML = o.content;\n      } else {\n        html.body.innerHTML = o.content.outerHTML;\n      }\n      if (o.construct) {\n        html.content.appendChild(html.body);\n      }\n    }\n  }\n\n  _setFooter() {\n    let html = this._html;\n    let o = this._options;\n\n    if (o.footer && html.footer) {\n      if (o.footer.nodeName) {\n        html.footer.ineerHTML = o.footer.outerHTML;\n      } else if (typeof o.footer === 'string') {\n        html.footer.innerHTML = o.footer;\n      } else if (! html.footer.children.length) {\n        o.buttons.forEach((button) => {\n          let el = document.createElement('button');\n          data(el, 'button', button);\n          el.innerHTML = button.text;\n          el.setAttribute('type', 'button');\n          for (let j in button.attr) {\n            el.setAttribute(j, button.attr[j]);\n          }\n          html.footer.appendChild(el);\n        });\n      }\n      if (o.construct) {\n        html.content.appendChild(html.footer);\n      }\n    }\n\n  }\n\n  _setEvents() {\n    let o = this._options;\n    let html = this._html;\n\n    this._events.keydownHandler = this._handleKeydownEvent.bind(this);\n    document.body.addEventListener('keydown',\n      this._events.keydownHandler\n    );\n\n    this._events.mousedownHandler = this._handleMousedownEvent.bind(this);\n    html.container.addEventListener('mousedown',\n      this._events.mousedownHandler\n    );\n\n    this._events.clickHandler = this._handleClickEvent.bind(this);\n    html.container.addEventListener('click',\n      this._events.clickHandler\n    );\n\n    this._events.resizeHandler = this._handleResizeEvent.bind(this);\n    window.addEventListener('resize',\n      this._events.resizeHandler\n    );\n  }\n\n  _handleMousedownEvent(e) {\n    this._pointerInContent = false;\n    let path = getPath(e.target);\n    path.every(node => {\n      if (node.classList && node.classList.contains('modal-content')) {\n        this._pointerInContent = true;\n        return false;\n      }\n      return true;\n    });\n  }\n\n  _handleClickEvent(e) {\n    let path = getPath(e.target);\n    path.every(node => {\n      if (node.tagName === 'HTML') {\n        return false;\n      }\n      if (this._options.backdrop !== true && node.classList.contains('modal')) {\n        return false;\n      }\n      if (node.classList.contains('modal-content')) {\n        return false;\n      }\n      if (node.getAttribute('data-dismiss') === 'modal') {\n        this.emit('dismiss', this, e, data(e.target, 'button'));\n        this.hide();\n        return false;\n      }\n\n      if (!this._pointerInContent && node.classList.contains('modal')) {\n        this.emit('dismiss', this, e, null);\n        this.hide();\n        return false;\n      }\n      return true;\n    });\n\n    this._pointerInContent = false;\n  }\n\n  _handleKeydownEvent(e) {\n    if (e.which === 27 && this._options.keyboard) {\n      this.emit('dismiss', this, e, null);\n      this.hide();\n    }\n  }\n\n  _handleResizeEvent(e) {\n    this._resize();\n  }\n\n  show() {\n    let o = this._options;\n    let html = this._html;\n    this.emit('show', this);\n\n    this._checkScrollbar();\n    this._setScrollbar();\n    document.body.classList.add('modal-open');\n\n    if (o.construct) {\n      html.appendTo.appendChild(html.container);\n    }\n\n    html.container.style.display = 'block';\n    html.container.scrollTop = 0;\n\n    if (o.backdrop !== false) {\n      this.once('showBackdrop', () => {\n        this._setEvents();\n\n        if (o.animate) html.container.offsetWidth; // Force reflow\n\n        html.container.classList.add(o.animateInClass);\n\n        setTimeout(() => {\n          this._visible = true;\n          this.emit('shown', this);\n        }, o.transition);\n      });\n      this._backdrop();\n    } else {\n      this._setEvents();\n\n      if (o.animate) html.container.offsetWidth; // Force reflow\n\n      html.container.classList.add(o.animateInClass);\n\n      setTimeout(() => {\n        this._visible = true;\n        this.emit('shown', this);\n      }, o.transition);\n    }\n    this._resize();\n\n    return this;\n  }\n\n  toggle() {\n    if (this._visible) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  _resize() {\n    var modalIsOverflowing =\n      this._html.container.scrollHeight > document.documentElement.clientHeight;\n\n    this._html.container.style.paddingLeft =\n      ! this.bodyIsOverflowing && modalIsOverflowing ? this._scrollbarWidth + 'px' : '';\n\n    this._html.container.style.paddingRight =\n      this.bodyIsOverflowing && ! modalIsOverflowing ? this._scrollbarWidth + 'px' : '';\n  }\n\n  _backdrop() {\n    let html = this._html;\n    let t = this._templates;\n    let o = this._options;\n    let animate = o.animate ? o.animateClass : false;\n\n    html.backdrop = build(t.backdrop);\n    if (animate) html.backdrop.classList.add(animate);\n    html.appendTo.appendChild(html.backdrop);\n\n    if (animate) html.backdrop.offsetWidth;\n\n    html.backdrop.classList.add(o.animateInClass);\n\n    setTimeout(() => {\n      this.emit('showBackdrop', this);\n    }, this._options.backdropTransition);\n  }\n\n  hide() {\n    let html = this._html;\n    let o = this._options;\n    let contCList = html.container.classList;\n    this.emit('hide', this);\n\n    contCList.remove(o.animateInClass);\n\n    if (o.backdrop) {\n      let backCList = html.backdrop.classList;\n      backCList.remove(o.animateInClass);\n    }\n\n    this._removeEvents();\n\n    setTimeout(() => {\n      document.body.classList.remove('modal-open');\n      document.body.style.paddingRight = this.originalBodyPad;\n    }, o.backdropTransition);\n\n    setTimeout(() => {\n      if (o.backdrop) {\n        html.backdrop.parentNode.removeChild(html.backdrop);\n      }\n      html.container.style.display = 'none';\n\n      if (o.construct) {\n        html.container.parentNode.removeChild(html.container);\n      }\n\n      this._visible = false;\n      this.emit('hidden', this);\n    }, o.transition);\n\n    return this;\n  }\n\n  _removeEvents() {\n    if (this._events.keydownHandler) {\n      document.body.removeEventListener('keydown',\n        this._events.keydownHandler\n      );\n    }\n\n    this._html.container.removeEventListener('mousedown',\n      this._events.mousedownHandler\n    );\n\n    this._html.container.removeEventListener('click',\n      this._events.clickHandler\n    );\n\n    window.removeEventListener('resize',\n      this._events.resizeHandler\n    );\n  }\n\n  _checkScrollbar() {\n    this.bodyIsOverflowing = document.body.clientWidth < window.innerWidth;\n  }\n\n  _setScrollbar() {\n    this.originalBodyPad = document.body.style.paddingRight || '';\n    if (this.bodyIsOverflowing) {\n      let basePadding = parseInt(this.originalBodyPad || 0, 10);\n      document.body.style.paddingRight = basePadding + this._scrollbarWidth + 'px';\n    }\n  }\n}\n\nexport default Modal;\n","import Loader from '../views/common/loader.js';\nimport Modal from 'modal-vanilla';\n\nexport const getModalSearchingGame = (textLoader, onCancelCallback) => {\n  const container = document.createElement(`div`);\n  const loader = new Loader(textLoader).element;\n  container.appendChild(loader);\n\n  const modal = new Modal({\n    content: container,\n    footer: true,\n    buttons: [\n      {\n        text: ``,\n        value: false,\n        attr: {\n          class: `btn`,\n          'data-dismiss': `modal`,\n        },\n      },\n    ],\n    header: false,\n    backdrop: `static`,\n  });\n\n  const dismissCallback = (modal) => {\n    if (onCancelCallback) {\n      onCancelCallback();\n    }\n\n    modal.off(`hide`, dismissCallback);\n  };\n\n  modal.on(`hide`, dismissCallback);\n\n  return modal;\n};\n","import AbstractView from '../abstract-view.js';\nimport { getModalSearchingGame } from '../../modals/modal-searching-game.js';\n\nexport const welcomeViewEvents = {\n  START_GAME: `startGame`,\n  FIND_GAME: `findGame`,\n  CREATE_GAME: `createGame`,\n};\n\nclass WelcomeView extends AbstractView {\n  #btnStart = null;\n  #findGameBtn = null;\n  #createGameBtn = null;\n\n  constructor() {\n    super();\n  }\n\n  showFindGameModal = (onCancelCallback) => {\n    this.findGameModal = getModalSearchingGame(` ...`, onCancelCallback);\n    this.findGameModal.show();\n  };\n\n  hideFindGameModal = () => {\n    this.findGameModal.hide();\n  };\n\n  handleClickStartBtn = (e) => {\n    e.preventDefault();\n    this.emit(welcomeViewEvents.START_GAME);\n  };\n\n  handleClickFindGameBtn = (e) => {\n    e.preventDefault();\n    this.emit(welcomeViewEvents.FIND_GAME);\n  };\n\n  handleClickCreateGameBtn = (e) => {\n    e.preventDefault();\n    this.emit(welcomeViewEvents.CREATE_GAME);\n  };\n\n  bind(element) {\n    this.#btnStart = element.querySelector(`.js-btn-start`);\n    this.#btnStart.addEventListener(`click`, this.handleClickStartBtn);\n    this.#findGameBtn = element.querySelector(`.js-find-game-btn`);\n    this.#findGameBtn.addEventListener(`click`, this.handleClickFindGameBtn);\n    this.#createGameBtn = element.querySelector(`.js-reate-game-btn`);\n    this.#createGameBtn.addEventListener(`click`, this.handleClickCreateGameBtn);\n  }\n\n  unbind() {\n    this.#btnStart.removeEventListener(`click`, this.handleClickStartBtn);\n    this.#findGameBtn.removeEventListener(`click`, this.handleClickFindGameBtn);\n    this.#createGameBtn.removeEventListener(`click`, this.handleClickCreateGameBtn);\n  }\n\n  get template() {\n    return `<article class=\"welcome-view\">\n                <h1 class=\"welcome-view__title page-title\">\n                     <span>X</span> <span>0</span>\n                </h1>\n                <div class=\"welcome-view__btn-play-wrap\">\n                    <button class=\"btn js-btn-start\"\n                        type=\"button\">\n                        \n                    </button>\n                </div>\n                <section class=\"welcome-view__game-modes\">\n                    <h2 class=\"subtitle\">  </h2>\n                    <div class=\"welcome-view__game-modes-btns-wrap\">\n                        <button class=\"js-find-game-btn btn\"\n                            type=\"button\">\n                             \n                        </button>\n                        <button class=\"js-reate-game-btn btn btn--action\"\n                            type=\"button\">\n                             \n                        </button>\n                    </div>\n                </section>\n            </article>`;\n  }\n}\n\nexport default WelcomeView;\n","export const timeoutConnection = 10000;\n\nexport const gameMode = {\n  ONLINE: `online`,\n  OFFLINE: `offline`,\n};\n\nexport const messageType = {\n  FIND_GAME: `FIND_GAME`,\n  CREATE_GAME: `CREATE_GAME`,\n  ACCEPT_OFFER: `ACCEPT_OFFER`,\n  ACCEPT_ANSWER: `ACCEPT_ANSWER`,\n  ICE_CANDIDATE: `ICE_CANDIDATE`,\n  INIT_USER: `USER`,\n  OFFER: `OFFER`,\n  ANSWER: `ANSWER`,\n  SETTINGS: `SETTINGS`,\n  START: `START`,\n  MOVE: `MOVE`,\n  RETRY: `RETRY`,\n};\n\nexport const playerType = {\n  INITIATOR: `initiator`,\n  RECIPIENT: `recipient`,\n};\n\nexport const socketGetParams = {\n  CREATE_GAME: `createGame=true`,\n  FIND_GAME: `findGame=true`,\n};\n\nconst fieldSize = 3;\n\nexport const indentCell = 15;\n\nexport const charactersType = {\n  X: `X`,\n  O: `O`,\n};\n\nexport const templateIconX = `<svg x=\"0px\" y=\"0px\" \n            xmlns=\"http://www.w3.org/2000/svg\"\n            height=\"25\"\n            width=\"25\"\n            fill=\"#b9258f\"\n            viewBox=\"0 0 492 492\">\n            <path d=\"M300.188,246L484.14,62.04c5.06-5.064,7.852-11.82,7.86-19.024c0-7.208-2.792-13.972-7.86-19.028L468.02,7.872\n                c-5.068-5.076-11.824-7.856-19.036-7.856c-7.2,0-13.956,2.78-19.024,7.856L246.008,191.82L62.048,7.872\n                c-5.06-5.076-11.82-7.856-19.028-7.856c-7.2,0-13.96,2.78-19.02,7.856L7.872,23.988c-10.496,10.496-10.496,27.568,0,38.052\n                L191.828,246L7.872,429.952c-5.064,5.072-7.852,11.828-7.852,19.032c0,7.204,2.788,13.96,7.852,19.028l16.124,16.116\n                c5.06,5.072,11.824,7.856,19.02,7.856c7.208,0,13.968-2.784,19.028-7.856l183.96-183.952l183.952,183.952\n                c5.068,5.072,11.824,7.856,19.024,7.856h0.008c7.204,0,13.96-2.784,19.028-7.856l16.12-16.116\n                c5.06-5.064,7.852-11.824,7.852-19.028c0-7.204-2.792-13.96-7.852-19.028L300.188,246z\"/>\n        </svg>`;\n\nexport const templateIconO = `<svg x=\"0px\" y=\"0px\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            height=\"25\"\n            width=\"25\"\n            class=\"zero\"\n            fill=\"#870eff\"\n            viewBox=\"0 0 380.734 380.734\">\n            <path d=\"M190.367,0C85.23,0,0,85.23,0,190.367s85.23,190.367,190.367,190.367s190.367-85.23,190.367-190.367\n                S295.504,0,190.367,0z M299.002,298.36c-28.996,28.996-67.57,44.959-108.634,44.959S110.723,327.35,81.733,298.36\n                c-28.865-28.876-44.769-67.227-44.769-107.993c0-40.771,15.904-79.128,44.769-107.993c28.99-28.996,67.57-44.959,108.634-44.959\n                c41.054,0,79.639,15.969,108.629,44.959c28.871,28.865,44.763,67.221,44.763,107.993\n                C343.765,231.133,327.867,269.489,299.002,298.36z\"/>\n            </svg>`;\n\nconst characters = [\n  {\n    name: `playerCharacter`,\n    value: charactersType.X,\n    selected: true,\n    icon: templateIconX,\n    class: `x`,\n  },\n  {\n    name: `playerCharacter`,\n    value: charactersType.O,\n    selected: false,\n    icon: templateIconO,\n    class: `zero`,\n  },\n];\n\nexport const settingsOfflineGame = {\n  fieldSize: fieldSize,\n  settingsFields: [\n    {\n      type: `input`,\n      label: `  :`,\n      name: `numberCellsInRow`,\n      fieldType: `number`,\n      attrs: `min=\"3\" max=\"15\"`,\n      value: fieldSize,\n    },\n  ],\n  gameMode: gameMode.OFFLINE,\n};\n\nexport const settingsOnlineGame = {\n  character: `X`,\n  fieldSize: fieldSize,\n  settingsFields: [\n    {\n      type: `radio`,\n      label: ` :`,\n      items: characters,\n      name: `playerCharacter`,\n      value: `X`,\n    },\n    {\n      type: `input`,\n      label: `  :`,\n      name: `numberCellsInRow`,\n      fieldType: `number`,\n      attrs: `min=\"3\" max=\"15\"`,\n      value: fieldSize,\n    },\n  ],\n  gameMode: gameMode.ONLINE,\n};\n\nexport const colorLineGrid = `blue`;\n\nexport const serverName = `ws://192.168.1.49:9000/`;\n\n//export const serverName = `ws://192.168.2.100:9000/`;\n//export const serverName = `ws://192.168.2.100:9000/`;\n","export const createMessage = (type, payload) => {\n  return {\n    type,\n    payload: {\n      ...payload,\n    },\n  };\n};\n","import EventEmitter from '../utils/event-emmiter.js';\n\nexport const webSocketEvents = {\n  OPEN: `open`,\n  CLOSE: `close`,\n  MESSAGE: `message`,\n  ERROR: `error`,\n};\n\nclass WebSocketConnector extends EventEmitter {\n  constructor() {\n    super();\n  }\n\n  create(server) {\n    this.socket = new WebSocket(server);\n    this.socket.onopen = this.onOpen;\n    this.socket.onmessage = this.onMessage;\n    this.socket.onclose = this.onClose;\n    this.socket.onerror = this.onError;\n  }\n\n  close(isClear) {\n    this.socket.close();\n    this.emit(webSocketEvents.CLOSE, isClear);\n  }\n\n  send(data) {\n    this.socket.send(JSON.stringify(data));\n  }\n\n  onOpen = (e) => {\n    this.emit(webSocketEvents.OPEN, e);\n  };\n\n  onMessage = (event) => {\n    const data = JSON.parse(event.data);\n    this.emit(webSocketEvents.MESSAGE, data);\n  };\n\n  onClose = (event) => {\n    // if (event.wasClean) {\n    //   alert(`[close]   , =${event.code} =${event.reason}`);\n    // } else {\n    //   // ,      \n    //   //     event.code 1006\n    //   alert('[close]  ');\n    // }\n    this.emit(webSocketEvents.CLOSE, event);\n  };\n\n  onError = (error) => {\n    // alert(`[error] ${error}`);\n    this.emit(webSocketEvents.ERROR, error);\n  };\n}\n\nexport default WebSocketConnector;\n","import EventEmitter from '../utils/event-emmiter.js';\nimport { messageType, timeoutConnection } from '../data/settings.js';\nimport { webSocketEvents } from './websocket.js';\nimport { createMessage } from '../helpers/network/network-helper.js';\n\nexport const peerConnectorEvents = {\n  DATA_CHANNEL: `dataChannel`,\n  CONNECTION_STATE_CHANGE: `connectionStateChange`,\n  ICE_CANDIDATE: `iceCandidate`,\n  ICE_CONNECTION_STATE_CHANGE: `iceConnectionStateChange`,\n  OPEN_DATA_CHANNEL: `openDataChannel`,\n  MESSAGE_DATA_CHANNEL: `messageDataChannel`,\n  CLOSE_DATA_CHANNEL: `closeDataChannel`,\n};\n\nlet resolveFn;\nconst promise = new Promise((resolve) => {\n  resolveFn = resolve;\n});\n\nclass PeerConnector extends EventEmitter {\n  #channel = null;\n  #localIceCandidateList = [];\n  #peerConnection = null;\n  #initiatorId = null;\n  #recipientId = null;\n  #connectionTimeout = null;\n\n  constructor(socket, isInitiator, nameDataChannel = `gomoku`) {\n    super();\n    this.nameDataChannel = nameDataChannel;\n    this.isInitiator = isInitiator;\n    this.socket = socket;\n    this.socket.subscribe(webSocketEvents.MESSAGE, this.onSocketMessage);\n  }\n\n  get dataChannel() {\n    return this.#channel;\n  }\n\n  get initiatorId() {\n    return this.#initiatorId;\n  }\n\n  set initiatorId(id) {\n    this.#initiatorId = id;\n  }\n\n  get recipientId() {\n    return this.#recipientId;\n  }\n\n  set recipientId(id) {\n    this.#recipientId = id;\n  }\n\n  create() {\n    this.#peerConnection = new RTCPeerConnection();\n    this.#peerConnection.addEventListener(`datachannel`, this.onDataChannel);\n    this.#peerConnection.addEventListener(`connectionstatechange`, this.onConnectionStateChange);\n    this.#peerConnection.addEventListener(`icecandidate`, this.onIceCandidate);\n    this.#peerConnection.addEventListener(`iceconnectionstatechange`, this.onIceConnectionStateChange);\n  }\n\n  close() {\n    if (this.#peerConnection.connectionState === `connected`) {\n      this.#peerConnection.close();\n    }\n  }\n\n  addIceCandidate(candidate) {\n    this.#peerConnection.addIceCandidate(candidate);\n  }\n\n  onDataChannel = (e) => {\n    this.#channel = e.channel;\n    //  on .. onDataChannel   recipient`a\n    this.#channel.onopen = this.onOpenDataChannel;\n    this.#channel.onclose = this.onCloseDataChannel;\n    this.#channel.onmessage = this.onMessageDataChannel;\n    this.emit(peerConnectorEvents.DATA_CHANNEL, e);\n  };\n\n  onOpenDataChannel = () => {\n    this.clearConnectionTimeout();\n    this.emit(peerConnectorEvents.OPEN_DATA_CHANNEL);\n  };\n\n  onCloseDataChannel = () => {\n    this.emit(peerConnectorEvents.CLOSE_DATA_CHANNEL);\n  };\n\n  onMessageDataChannel = (e) => {\n    try {\n      const message = JSON.parse(e.data);\n      this.emit(peerConnectorEvents.MESSAGE_DATA_CHANNEL, message);\n    } catch (error) {\n      throw new Error(error);\n    }\n  };\n\n  sendData(data) {\n    try {\n      const message = JSON.stringify(data);\n      this.#channel.send(message);\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n\n  createDataChannel(name) {\n    this.#channel = this.#peerConnection.createDataChannel(name);\n    //  on .. createDataChannel   initiator`a\n    this.#channel.onopen = this.onOpenDataChannel;\n    this.#channel.onclose = this.onCloseDataChannel;\n    this.#channel.onmessage = this.onMessageDataChannel;\n  }\n\n  async createOffer() {\n    this.createDataChannel(this.nameDataChannel);\n    const offer = await this.#peerConnection.createOffer();\n    await this.#peerConnection.setLocalDescription(offer);\n    return offer;\n  }\n\n  async createAnswer() {\n    const answer = await this.#peerConnection.createAnswer();\n    await this.#peerConnection.setLocalDescription(answer);\n    return answer;\n  }\n\n  onConnectionStateChange = () => {\n    if (this.#peerConnection.connectionState === `connected`) {\n      this.socket.close();\n    }\n    this.emit(peerConnectorEvents.CONNECTION_STATE_CHANGE, this.#peerConnection.connectionState);\n  };\n\n  onIceConnectionStateChange = () => {\n    this.emit(peerConnectorEvents.ICE_CONNECTION_STATE_CHANGE, this.#peerConnection.iceConnectionState);\n  };\n\n  onIceCandidate = (event) => {\n    if (event.candidate) {\n      this.#localIceCandidateList.push(event.candidate);\n    } else {\n      this.clearConnectionTimeout();\n      resolveFn();\n    }\n    this.emit(peerConnectorEvents.ICE_CANDIDATE, event.candidate);\n  };\n\n  sendIceCandidates() {\n    const message = createMessage(messageType.ICE_CANDIDATE, {\n      clientId: this.isInitiator ? this.recipientId : this.initiatorId,\n      iceCandidateList: this.#localIceCandidateList,\n    });\n\n    this.socket.send(message);\n  }\n\n  async acceptRemoteOffer(offer) {\n    return await this.#peerConnection.setRemoteDescription(offer);\n  }\n\n  async acceptAnswer(answer) {\n    return await this.#peerConnection.setRemoteDescription(answer);\n  }\n\n  onSocketMessage = async (message) => {\n    switch (message.type) {\n      case messageType.INIT_USER:\n        {\n          const clientId = message.payload.clientId;\n          if (this.isInitiator) {\n            this.initiatorId = clientId;\n            const offer = await this.createOffer();\n            const responseMessage = createMessage(messageType.OFFER, {\n              offer,\n              initiatorId: this.initiatorId,\n            });\n\n            this.socket.send(responseMessage);\n            this.setConnectionTimeout();\n          } else {\n            this.recipientId = clientId;\n            const responseMessage = createMessage(messageType.FIND_GAME);\n            this.socket.send(responseMessage);\n            this.setConnectionTimeout();\n          }\n        }\n        break;\n\n      case messageType.ICE_CANDIDATE:\n        this.clearConnectionTimeout();\n        message.payload.iceCandidateList.forEach((candidate) => {\n          this.addIceCandidate(candidate);\n        });\n        break;\n\n      case messageType.OFFER:\n        this.initiatorId = message.payload.initiatorId;\n        this.acceptRemoteOffer(message.payload.offer).then(() => {\n          this.createAnswer().then((answer) => {\n            const responseMessage = createMessage(messageType.ANSWER, {\n              initiatorId: this.initiatorId,\n              recipientId: this.recipientId,\n              answer,\n            });\n\n            this.socket.send(responseMessage);\n            this.setConnectionTimeout();\n          });\n        });\n        break;\n\n      case messageType.ANSWER:\n        this.recipientId = message.payload.recipientId;\n        console.log(`send answer`);\n\n        this.acceptAnswer(message.payload.answer).then(() => {\n          promise.then(() => {\n            this.clearConnectionTimeout();\n            this.setConnectionTimeout();\n            this.sendIceCandidates();\n          });\n        });\n        break;\n    }\n  };\n\n  setConnectionTimeout = () => {\n    if (this.#connectionTimeout == null) {\n      this.#connectionTimeout = setTimeout(() => {\n        this.socket.close(false);\n      }, timeoutConnection);\n    }\n  };\n\n  clearConnectionTimeout = () => {\n    if (this.#connectionTimeout) {\n      clearTimeout(this.#connectionTimeout);\n      this.#connectionTimeout = null;\n    }\n  };\n}\n\nexport default PeerConnector;\n","import WebSocketConnector, { webSocketEvents } from '../../network/websocket.js';\nimport PeerConnector, { peerConnectorEvents } from '../../network/peer-connector.js';\nimport { serverName, socketGetParams } from '../../data/settings.js';\n\nclass ConnectionService {\n  #peerConnection = null;\n  #socket = null;\n\n  constructor(isInitiator = false, socketParams = socketGetParams.FIND_GAME) {\n    this.#socket = new WebSocketConnector();\n    this.#peerConnection = new PeerConnector(this.#socket, isInitiator);\n    this.socketParams = socketParams;\n  }\n\n  get peerConnection() {\n    return this.#peerConnection;\n  }\n\n  get peerConnectorEvents() {\n    return peerConnectorEvents;\n  }\n\n  get webSocketEvents() {\n    return webSocketEvents;\n  }\n\n  sendMessage(message) {\n    this.#peerConnection.sendData(message);\n  }\n\n  subscribeMessageServer(eventName, callback) {\n    return this.#peerConnection.subscribe(eventName, callback);\n  }\n\n  subscribeServer(eventName, callback) {\n    return this.#peerConnection.subscribe(eventName, callback);\n  }\n\n  createConnection() {\n    this.peerConnection.create();\n    this.#socket.create(`${serverName}?${this.socketParams}`);\n  }\n\n  closeConnect() {\n    this.#socket.close();\n    this.#peerConnection.close();\n  }\n}\n\nexport { ConnectionService };\n","import Router from '../router.js';\nimport WelcomeView, { welcomeViewEvents } from '../views/welcome/welcome-view.js';\nimport { gameMode, socketGetParams, messageType, charactersType } from '../data/settings.js';\nimport { createMessage } from '../helpers/network/network-helper.js';\nimport Modal from 'modal-vanilla';\nimport { ConnectionService } from '../services/connection/connection-service.js';\n\nclass WelcomeScreen {\n  #connection = null;\n  #messageActions = null;\n  constructor() {\n    this.#messageActions = {\n      [messageType.SETTINGS]: this.#createSettingsNotifyOnlineGame.bind(this),\n      [messageType.START]: this.#startOnlineGame.bind(this),\n    };\n    this.welcomeView = new WelcomeView();\n    this.welcomeView.subscribe(welcomeViewEvents.START_GAME, this.startOfflineGame);\n    this.welcomeView.subscribe(welcomeViewEvents.FIND_GAME, this.findOnlineGame);\n    this.welcomeView.subscribe(welcomeViewEvents.CREATE_GAME, this.createOnlineGame);\n  }\n\n  get element() {\n    return this.welcomeView.element;\n  }\n\n  onMessageDataChannel = (message) => {\n    this.#messageActions[message.type](message.payload);\n  };\n\n  #createSettingsNotifyOnlineGame(remoteGameSettings) {\n    this.gameSettings = Object.assign({}, remoteGameSettings.gameSettings);\n    this.gameSettings.player1Character = remoteGameSettings.gameSettings.player2Character;\n    this.gameSettings.player2Character = remoteGameSettings.gameSettings.player1Character;\n    this.gameSettings.isMyMove = this.gameSettings.player1Character === charactersType.X;\n    this.#connection.sendMessage(createMessage(messageType.START));\n  }\n\n  #startOnlineGame() {\n    this.unsubscribeMessageDataChannel();\n    this.welcomeView.unbind();\n    Router.showGame(this.gameSettings, this.#connection);\n  }\n\n  startOfflineGame = () => {\n    Router.showGameSettings(gameMode.OFFLINE);\n  };\n\n  createConnection = () => {\n    //  P2P       \n    this.#connection = new ConnectionService(false, socketGetParams.FIND_GAME, null, this.onCloseSocket, this.onMessageDataChannel);\n    this.unsubscribeWebsocketClose = this.#connection.subscribeServer(this.#connection.webSocketEvents.CLOSE, this.onCloseSocket);\n    this.unsubscribeMessageDataChannel = this.#connection.subscribeMessageServer(\n      this.#connection.peerConnectorEvents.MESSAGE_DATA_CHANNEL,\n      this.onMessageDataChannel\n    );\n    this.#connection.createConnection();\n  };\n\n  findOnlineGame = () => {\n    this.welcomeView.showFindGameModal(this.closeConnect);\n    this.createConnection();\n  };\n\n  createOnlineGame = () => {\n    this.welcomeView.unbind();\n    Router.showGameSettings(gameMode.ONLINE);\n  };\n\n  closeConnect = () => {\n    this.#connection.closeConnect();\n    this.unsubscribeMessageDataChannel();\n  };\n\n  onCloseSocket = (isClear) => {\n    if (isClear === false) {\n      const alert = Modal.alert(`  `).show();\n      this.unsubscribeWebsocketClose();\n      this.closeConnect();\n      alert.on(`hide`, () => {\n        this.welcomeView.hideFindGameModal();\n      });\n    }\n  };\n}\n\nexport default WelcomeScreen;\n","import { getImageFromSVGString } from '../image/image-helpers.js';\nimport { charactersType, gameMode, settingsOfflineGame, settingsOnlineGame, templateIconO, templateIconX } from '../../data/settings.js';\n\nexport const getImagePlayer = async (characterName) => {\n  const iconTemplate = getIconPlayerTemplateByCharacter(characterName);\n  return await getImageFromSVGString(iconTemplate);\n};\n\nexport const getSizeTemplateForWin = (fieldSize) => {\n  return fieldSize > 3 ? 5 : 3;\n};\n\nexport const getSettingsGameByMode = (mode) => {\n  switch (mode) {\n    case gameMode.ONLINE:\n      return settingsOnlineGame;\n\n    default:\n      return settingsOfflineGame;\n  }\n};\n\nexport const getIconPlayerTemplateByCharacter = (type) => {\n  switch (type) {\n    case charactersType.O:\n      return templateIconO;\n\n    default:\n      return templateIconX;\n  }\n};\n","import AbstractView from '../abstract-view.js';\nimport getCharactersListTemplate from '../../templates/characters-list.js';\nimport { getModalSearchingGame } from '../../modals/modal-searching-game.js';\nimport { gameMode } from '../../data/settings.js';\n\nexport const settingsViewEvents = {\n  SAVE_SETTINGS: `saveSettings`,\n  BACK: `back`,\n};\n\nclass SettingsView extends AbstractView {\n  #form = null;\n  #backBtn = null;\n\n  constructor(settings) {\n    super();\n\n    this.settings = settings;\n    this.onSaveSettings = this.onSaveSettings.bind(this);\n  }\n\n  showCreateGameModal = (onCancelCallback) => {\n    this.createGameModal = getModalSearchingGame(` ...`, onCancelCallback);\n    this.createGameModal.show();\n  };\n\n  hideCreateGameModal = () => {\n    this.createGameModal.hide();\n  };\n\n  onSaveSettings(e) {\n    e.preventDefault();\n    const mode = e.submitter.classList.contains(`js-start-game-online-btn`) ? gameMode.ONLINE : gameMode.OFFLINE;\n    const formData = new FormData(this.#form);\n    this.emit(settingsViewEvents.SAVE_SETTINGS, {\n      formData,\n      gameMode: mode,\n    });\n  }\n\n  bind(element) {\n    this.#form = element.querySelector(`.js-settings-form`);\n    this.#form.addEventListener(`submit`, this.onSaveSettings);\n    this.#backBtn = element.querySelector(`.js-back-btn`);\n    this.#backBtn.addEventListener(`click`, this.onBackBtnHandler);\n  }\n\n  unbind() {\n    this.#form.removeEventListener(`submit`, this.onSaveSettings);\n    this.#backBtn.removeEventListener(`click`, this.onBackBtnHandler);\n  }\n\n  onBackBtnHandler = (e) => {\n    e.preventDefault();\n    this.emit(settingsViewEvents.BACK);\n  };\n\n  renderFormFields(formFields) {\n    return formFields\n      .map((field, indexFormControl) => {\n        if (field.type === `radio`) {\n          return `<section class=\"settings-block\">\n                    <h2 class=\"subtitle settings-block__title\">\n                        ${field.label}\n                    </h2>\n                    <div class=\"character\">\n                        ${getCharactersListTemplate(field.items, indexFormControl)}\n                    </div>\n                </section>`;\n        }\n        if (field.type === `input`) {\n          return `<section class=\"settings-block\">\n                    <h2 class=\"subtitle settings-block__title\">\n                        ${field.label}\n                    </h2>\n                    <div class=\"settings-block__input-wrap\">\n                        <label class=\"settings-block__label\">\n                            <span class=\"input-wrap\">\n                                <input name=\"${field.name}\"\n                                    data-index-form-control=\"${indexFormControl}\"\n                                    value=\"${field.value}\"\n                                    ${field.attrs ? field.attrs : ''}\n                                    type=\"${field.fieldType}\">\n                            </span>\n                        </label>\n                    </div>\n                </section>`;\n        }\n      })\n      .join(``);\n  }\n\n  renderBtn(mode) {\n    const isOnlineMode = mode === gameMode.ONLINE;\n    const className = isOnlineMode ? ` js-start-game-online-btn` : ``;\n    const btnText = isOnlineMode ? `` : ``;\n    return `\n            <button class=\"btn${className} settings-view__start-btn\">\n                ${btnText}\n            </button>\n        `;\n  }\n\n  get template() {\n    return `<article class=\"settings-view\">\n                <h1 class=\"settings-view__title page-title\">\n                    \n                </h1>\n                <div class=\"settings-view__back\">\n                    <button class=\"settings-view__back-btn js-back-btn btn-back\" type=\"button\"></button>\n                </div>\n                \n                <form name=\"settings-form\" class=\"settings-view__form js-settings-form\">\n                    ${this.renderFormFields(this.settings.settingsFields).trim()}\n                    <section class=\"settings-view__start-block\">\n                        <h2 class=\"\" hidden> </h2>\n                        ${this.renderBtn(this.settings.gameMode)}\n                    <section>\n                </form>\n            </article>`;\n  }\n}\n\nexport default SettingsView;\n","const getCharactersListTemplate = (items, indexFormControl) => {\n  return items\n    .map((it, index) => {\n      return `<input type=\"radio\"\n                            id=\"${it.value}\"\n                            data-index-form-control=\"${indexFormControl}\"\n                            data-index=\"${index}\"\n                            name=\"${it.name}\"\n                            class=\"character__input\"\n                            value=\"${it.value}\"\n                            ${it.selected ? 'checked' : ''}>\n                <label class=\"character__${it.class}\"\n                    for=\"${it.value}\">\n                    ${it.icon}\n                </label>`;\n    })\n    .join(``);\n};\n\nexport default getCharactersListTemplate;\n","import AbstractView from '../abstract-view.js';\nimport { colorLineGrid } from '../../data/settings.js';\nimport { getImagePlayer } from '../../helpers/settings/settings-helper.js';\n\nexport const gameViewEvents = {\n  CLICK_GAME_FIELD: `clickGameField`,\n  CLICK_RETRY: `retry`,\n  CLICK_TO_MAIN: `clickToMain`,\n};\n\nclass GameView extends AbstractView {\n  #gameField = null;\n  #retryBtn = null;\n  #playerImages = new Map();\n  #ctx = null;\n  #backToMainBtn = null;\n\n  constructor(fieldSettings) {\n    super();\n    this.cellHeight = fieldSettings.cellHeight;\n    this.cellWidth = fieldSettings.cellWidth;\n    this.lineWidth = fieldSettings.lineWidth;\n    this.widthField = fieldSettings.sizeField.width;\n    this.heightField = fieldSettings.sizeField.height;\n    this.numbersLines = fieldSettings.numbersLines;\n  }\n\n  handleClickCanvas = (e) => {\n    e.preventDefault();\n    this.emit(gameViewEvents.CLICK_GAME_FIELD, e);\n  };\n\n  handleRetry = (e) => {\n    e.preventDefault();\n    this.emit(gameViewEvents.CLICK_RETRY, e);\n  };\n\n  handleBackToMain = (e) => {\n    e.preventDefault();\n    this.emit(gameViewEvents.CLICK_TO_MAIN, e);\n  };\n\n  changeMoveStatusText = (statusText) => {\n    if (this.moveStatusEl == null) {\n      this.moveStatusEl = this.element.querySelector(`.js-move-status`);\n    }\n    this.moveStatusEl.textContent = statusText;\n  };\n\n  bind(element) {\n    this.#gameField = element.querySelector(`#gameCanvas`);\n    this.#retryBtn = element.querySelector(`.js-retry-btn`);\n    this.#backToMainBtn = element.querySelector(`.js-back-to-main-btn`);\n    this.#gameField.addEventListener(`click`, this.handleClickCanvas);\n    this.#retryBtn.addEventListener(`click`, this.handleRetry);\n    this.#backToMainBtn.addEventListener(`click`, this.handleBackToMain);\n  }\n\n  unbind() {\n    this.#gameField.removeEventListener(`click`, this.handleClickCanvas);\n    this.#retryBtn.removeEventListener(`click`, this.handleRetry);\n    this.#backToMainBtn.removeEventListener(`click`, this.handleBackToMain);\n  }\n\n  get template() {\n    return `\n            <article class=\"game-view\">\n                <h1 class=\"page-title\"></h1>\n                <div class=\"game-view__back-to-main\">\n                    <button class=\"game-view__back-to-main-btn js-back-to-main-btn btn-back\" type=\"button\">  </button>\n                </div>\n                <button type=\"button\" class=\"btn game-view__retry-btn js-retry-btn\" hidden></button>\n                <h2 class=\"game-view__move-status js-move-status\"></h2>\n                <canvas id=\"gameCanvas\"></canvas>\n            </article>\n        `;\n  }\n\n  drawGameField() {\n    const ctx = this.#ctx;\n\n    ctx.beginPath();\n    ctx.strokeStyle = colorLineGrid;\n\n    const cellsList = new Array(this.numbersLines).fill(null);\n\n    cellsList.forEach((curr, i) => {\n      //canvas            \n\n      //  \n      let indent = i * this.lineWidth + this.lineWidth / 2 + this.cellWidth * i;\n      ctx.moveTo(0, indent);\n      ctx.lineTo(this.widthField, indent);\n\n      //  \n      indent = i * this.lineWidth + this.lineWidth / 2 + this.cellHeight * i;\n      ctx.moveTo(indent, 0);\n      ctx.lineTo(indent, this.heightField);\n    });\n\n    ctx.stroke();\n    ctx.closePath();\n  }\n\n  async renderImage(name) {\n    const playerImage = this.#playerImages.get(name);\n    if (!playerImage) {\n      const image = await getImagePlayer(name);\n      this.#playerImages.set(name, image);\n      return image;\n    }\n    return playerImage;\n  }\n\n  async drawImgInCell(cell, nameImg, widthImg, heightImg) {\n    const playerImage = await this.renderImage(nameImg);\n    const ctx = this.#ctx;\n    const x = cell.coords[0];\n    const y = cell.coords[1];\n    let x1 = x[0];\n    let y1 = y[0];\n    if (widthImg < this.cellWidth) {\n      x1 = x1 + Math.ceil((this.cellWidth - widthImg) / 2);\n    }\n\n    if (heightImg < this.cellHeight) {\n      y1 = y1 + Math.ceil((this.cellHeight - heightImg) / 2);\n    }\n    ctx.drawImage(playerImage, x1, y1, widthImg, heightImg);\n  }\n\n  renderWinLine(coordsWinLine) {\n    const ctx = this.#ctx;\n    ctx.lineWidth = 4;\n    const { startX1Coords, startX2Coords, endY1Coords, endY2Coords } = coordsWinLine;\n\n    ctx.beginPath();\n    ctx.strokeStyle = 'rgba(197, 197 , 3, .8)';\n    ctx.moveTo(startX1Coords, endY1Coords);\n    ctx.lineTo(startX2Coords, endY2Coords);\n    ctx.stroke();\n    ctx.closePath();\n  }\n\n  showRetryBtn() {\n    this.#retryBtn.removeAttribute(`hidden`);\n  }\n\n  postRender() {\n    this.#gameField.setAttribute(`width`, this.widthField);\n    this.#gameField.setAttribute(`height`, this.heightField);\n    this.#ctx = this.#gameField.getContext(`2d`);\n    this.#ctx.lineWidth = this.lineWidth;\n    this.drawGameField();\n  }\n}\n\nexport default GameView;\n","export const getImageFromSVGString = (svgString) => {\n  return new Promise((resolve) => {\n    const img = new Image();\n    const blob = new Blob([svgString], { type: 'image/svg+xml' });\n    img.src = URL.createObjectURL(blob);\n    img.onload = () => {\n      resolve(img);\n    };\n  });\n};\n","import WelcomeScreen from './game/welcome-screen.js';\nimport SettingsScreen from './game/settings-screen.js';\nimport GameScreen from './game/game-screen.js';\n\nconst changeView = (html) => {\n  document.body.innerHTML = ``;\n  document.body.appendChild(html);\n};\n\nclass Router {\n  static showWelcome() {\n    const welcomeScreen = new WelcomeScreen();\n    changeView(welcomeScreen.element);\n  }\n\n  static showGameSettings(gameMode) {\n    const settingsScreen = new SettingsScreen(gameMode);\n    changeView(settingsScreen.element);\n  }\n\n  static showGame(gameSettings, connection) {\n    new GameScreen(gameSettings, changeView, connection);\n  }\n}\n\nexport default Router;\n","import { charactersType, playerType, gameMode, socketGetParams, messageType } from '../data/settings.js';\nimport { createMessage } from '../helpers/network/network-helper.js';\nimport { getSettingsGameByMode, getSizeTemplateForWin } from '../helpers/settings/settings-helper.js';\nimport { getObjectFromFormData } from '../helpers/form/form-helper.js';\nimport SettingsView, { settingsViewEvents } from '../views/settings/settings-view.js';\nimport Router from '../router.js';\nimport Modal from 'modal-vanilla';\nimport { ConnectionService } from '../services/connection/connection-service.js';\n\nclass SettingsScreen {\n  #connection = null;\n  #messageActions = null;\n\n  constructor(gameMode) {\n    this.#messageActions = {\n      [messageType.START]: this.#startOnlineGame.bind(this),\n    };\n    const settingFields = getSettingsGameByMode(gameMode);\n    this.settingsView = new SettingsView(settingFields);\n    this.unsubscribeOnSaveSettings = this.settingsView.subscribe(settingsViewEvents.SAVE_SETTINGS, this.saveSettings);\n    this.unsubscribeOnBackBtn = this.settingsView.subscribe(settingsViewEvents.BACK, this.backToView);\n  }\n\n  get element() {\n    return this.settingsView.element;\n  }\n\n  #startOnlineGame = () => {\n    this.showGame();\n    this.unsubscribeMessageDataChannel();\n  };\n\n  onMessageDataChannel = (message) => {\n    this.#messageActions[message.type](message.payload);\n  };\n\n  onOpenDataChannel = () => {\n    const message = createMessage(messageType.SETTINGS, {\n      gameSettings: this.gameSettings,\n    });\n    this.#connection.sendMessage(message);\n  };\n\n  saveSettings = (settingsData) => {\n    const settings = Object.freeze(getObjectFromFormData(settingsData.formData));\n    const isOnlineGame = settingsData.gameMode === gameMode.ONLINE;\n    const numberCellsInRow = Number(settings.numberCellsInRow);\n    const numbersLines = Number(settings.numberCellsInRow) + 1;\n    const sizeTemplateForWin = getSizeTemplateForWin(numberCellsInRow);\n\n    this.gameSettings = {\n      numberCellsInRow,\n      numbersLines,\n      sizeTemplateForWin,\n      gameMode: settingsData.gameMode,\n      isMyMove: true,\n    };\n\n    if (isOnlineGame) {\n      this.gameSettings = {\n        ...this.gameSettings,\n        player1Character: settings.playerCharacter,\n        player2Character: settings.playerCharacter === charactersType.X ? charactersType.O : charactersType.X,\n        playerType: playerType.INITIATOR,\n        isMyMove: settings.playerCharacter === charactersType.X,\n      };\n\n      //  P2P       \n      this.createConnect();\n    } else {\n      this.gameSettings = {\n        ...this.gameSettings,\n        player1Character: charactersType.X,\n        player2Character: charactersType.O,\n      };\n      this.showGame();\n    }\n  };\n\n  createConnect = () => {\n    this.#connection = new ConnectionService(true, socketGetParams.CREATE_GAME, this.onMessageDataChannel);\n    this.unsubscribeOpenDataChannel = this.#connection.subscribeMessageServer(\n      this.#connection.peerConnectorEvents.OPEN_DATA_CHANNEL,\n      this.onOpenDataChannel\n    );\n    this.unsubscribeWebsocketClose = this.#connection.subscribeServer(this.#connection.webSocketEvents.CLOSE, this.onCloseSocket);\n    this.unsubscribeMessageDataChannel = this.#connection.subscribeMessageServer(\n      this.#connection.peerConnectorEvents.MESSAGE_DATA_CHANNEL,\n      this.onMessageDataChannel\n    );\n    this.#connection.createConnection();\n    this.settingsView.showCreateGameModal(this.closeConnect);\n  };\n\n  closeConnect = () => {\n    this.#connection.closeConnect();\n    this.unsubscribeWebsocketClose();\n    this.unsubscribeMessageDataChannel();\n    this.unsubscribeOpenDataChannel();\n  };\n\n  showGame = () => {\n    this.destroyListeners();\n    Router.showGame(this.gameSettings, this.#connection);\n  };\n\n  onCloseSocket = (isClear) => {\n    if (isClear === false) {\n      const alert = Modal.alert(`  `).show();\n      alert.on(`hide`, () => {\n        this.settingsView.hideCreateGameModal();\n      });\n      this.closeConnect();\n    }\n  };\n\n  destroyListeners = () => {\n    this.unsubscribeOnBackBtn();\n    this.unsubscribeOnSaveSettings();\n    this.settingsView.unbind();\n  };\n\n  backToView = () => {\n    this.destroyListeners();\n    Router.showWelcome();\n  };\n}\n\nexport default SettingsScreen;\n","export const getObjectFromFormData = (settingsFormData) => {\n  const settings = {};\n\n  for (let [nameSetting, valueSetting] of settingsFormData) {\n    settings[nameSetting] = valueSetting;\n  }\n  return settings;\n};\n","import Router from '../router.js';\nimport { messageType, indentCell } from '../data/settings.js';\nimport { peerConnectorEvents } from '../network/peer-connector.js';\nimport GameView, { gameViewEvents } from '../views/game/game-view.js';\nimport GameModel from '../models/game-model.js';\nimport { createMessage } from '../helpers/network/network-helper.js';\nimport Modal from 'modal-vanilla';\n\nclass GameScreen {\n  #connection = null;\n\n  constructor(gameSettings, onStartCallback, connection) {\n    this.onStartCallback = onStartCallback;\n    this.gameSettings = gameSettings;\n    this.#connection = connection || null;\n    this.startGame();\n  }\n\n  get element() {\n    return this.gameView.element;\n  }\n\n  onClickGameField = async (e) => {\n    //           \n    if (this.gameModel.isFreeze || this.gameModel.gameStatus === this.gameModel.gameStatuses.END) {\n      return;\n    }\n    const clickCoords = {\n      x: e.offsetX,\n      y: e.offsetY,\n    };\n\n    const cell = this.gameModel.getCellByCoord(clickCoords);\n    if (cell && cell.isEmpty) {\n      await this.move(cell, this.gameModel.isOnlineMode);\n    }\n  };\n\n  move = async (cell, needSend = false) => {\n    if (this.gameModel.isFreeze && needSend) return;\n\n    const imgName = this.gameModel.currentPlayer;\n    //indentCell -    \n    await this.gameView.drawImgInCell(cell, imgName, this.gameModel.imageWidth - indentCell, this.gameModel.imageHeight - indentCell);\n    this.gameModel.changeStateCell(cell);\n\n    if (this.gameModel.isOnlineMode && needSend) {\n      const message = createMessage(messageType.MOVE, { cell });\n      this.#connection.sendMessage(message);\n    }\n    const winObj = this.gameModel.checkWin(cell);\n    //   \n    let statusText = null;\n    if (winObj.gameStatus !== this.gameModel.gameStatuses.GAME) {\n      statusText = ``;\n      if (winObj.gameStatus === this.gameModel.gameStatuses.PLAYER_WIN) {\n        this.gameView.renderWinLine(this.getWinLineCoords(winObj));\n        statusText = ` ${this.gameModel.currentPlayer}`;\n      }\n      this.gameModel.gameStatus = this.gameModel.gameStatuses.END;\n      this.gameView.showRetryBtn();\n    }\n\n    this.gameModel.changePlayer();\n    this.gameView.changeMoveStatusText(statusText ?? this.gameModel.gameStatusText);\n  };\n\n  getWinLineCoords = ({ direction, winCellsList }) => {\n    const directions = this.gameModel.winDirections;\n    const startCell = winCellsList.shift();\n    const endCell = winCellsList.pop();\n    const middleOfCell = this.gameModel.cellHeight / 2;\n\n    const directionCheckMap = {\n      [directions.LEFT_TO_RIGHT]: () => {\n        return {\n          startX1Coords: startCell.coords[0][0],\n          endY1Coords: startCell.coords[1][1] - middleOfCell,\n          startX2Coords: endCell.coords[0][1],\n          endY2Coords: endCell.coords[1][1] - middleOfCell,\n        };\n      },\n      [directions.TOP_TO_BOTTOM]: () => {\n        return {\n          startX1Coords: startCell.coords[0][0] + middleOfCell,\n          endY1Coords: startCell.coords[1][0],\n          startX2Coords: endCell.coords[0][0] + middleOfCell,\n          endY2Coords: endCell.coords[1][1],\n        };\n      },\n      [directions.RIGHT_TOP_TO_LEFT_BOTTOM]: () => {\n        return {\n          startX1Coords: startCell.coords[0][0],\n          endY1Coords: startCell.coords[1][1],\n          startX2Coords: endCell.coords[0][1],\n          endY2Coords: endCell.coords[1][0],\n        };\n      },\n      [directions.LEFT_TOP_TO_RIGHT_BOTTOM]: () => {\n        return {\n          startX1Coords: startCell.coords[0][0],\n          endY1Coords: startCell.coords[1][0],\n          startX2Coords: endCell.coords[0][1],\n          endY2Coords: endCell.coords[1][1],\n        };\n      },\n    };\n\n    return directionCheckMap[direction]?.();\n  };\n\n  onMessageDataChannel = async (message) => {\n    switch (message.type) {\n      case messageType.MOVE:\n        await this.move(message.payload.cell, false);\n        break;\n      case messageType.RETRY:\n        this.unsubscribeDataChannel();\n        this.startGame();\n        break;\n    }\n  };\n\n  onCloseDataChannel = () => {\n    this.unsubscribeMessageDataChannel();\n    this.unsubscribeCloseDataChannel();\n    this.#connection = null;\n\n    const alert = Modal.alert(`  !`, {\n      buttons: [\n        {\n          text: ` `,\n          value: false,\n          attr: {\n            class: `btn`,\n            'data-dismiss': `modal`,\n          },\n        },\n      ],\n    }).show();\n    alert.on(`hidden`, () => {\n      Router.showWelcome();\n    });\n  };\n\n  retryGame = () => {\n    if (this.gameModel.isOnlineMode) {\n      const message = createMessage(messageType.RETRY);\n      this.#connection.sendMessage(message);\n      this.unsubscribeDataChannel();\n    }\n    this.destroyListeners();\n    this.startGame();\n  };\n\n  backToMainPage = () => {\n    if (this.gameModel.isOnlineMode) {\n      this.unsubscribeDataChannel();\n      this.#connection.closeConnect();\n    }\n    this.destroyListeners();\n    Router.showWelcome();\n  };\n\n  unsubscribeDataChannel() {\n    this.unsubscribeMessageDataChannel();\n    this.unsubscribeCloseDataChannel();\n  }\n\n  destroyListeners() {\n    this.unsubscribeClickGameField();\n    this.unsubscribeBackToMain();\n    this.unsubscribeRetry();\n    this.gameView.unbind();\n  }\n\n  startGame() {\n    this.gameModel = new GameModel(this.gameSettings);\n    this.gameView = new GameView(this.gameModel.gameFieldSettings);\n    if (this.gameModel.isOnlineMode) {\n      //     datachannel\n      this.unsubscribeMessageDataChannel = this.#connection.subscribeMessageServer(\n        peerConnectorEvents.MESSAGE_DATA_CHANNEL,\n        this.onMessageDataChannel\n      );\n      this.unsubscribeCloseDataChannel = this.#connection.subscribeMessageServer(\n        peerConnectorEvents.CLOSE_DATA_CHANNEL,\n        this.onCloseDataChannel\n      );\n      this.#connection.sendMessage(createMessage(messageType.START));\n    }\n\n    this.unsubscribeClickGameField = this.gameView.subscribe(gameViewEvents.CLICK_GAME_FIELD, this.onClickGameField);\n    this.unsubscribeRetry = this.gameView.subscribe(gameViewEvents.CLICK_RETRY, this.retryGame);\n    this.unsubscribeBackToMain = this.gameView.subscribe(gameViewEvents.CLICK_TO_MAIN, this.backToMainPage);\n    this.gameView.changeMoveStatusText(this.gameModel.gameStatusText);\n    this.onStartCallback(this.element);\n  }\n}\n\nexport default GameScreen;\n","import { gameMode } from '../data/settings.js';\n\nclass GameModel {\n  #numbersLines = null;\n  #numberCellsInRow = null;\n  #cellsCoordsList = null;\n  #sizeGameField = null;\n  #cellWidth = 50;\n  #cellHeight = 50;\n  #lineWidth = 2;\n  #isMyMove = null;\n  #sizeTemplateForWin = null;\n  #movesList = [];\n  #numberFieldCells = null;\n  #gameStatuses = {\n    PLAYER_WIN: `playerWin`,\n    GAME: `game`,\n    END: `end`,\n  };\n  #gameStatus = this.#gameStatuses.GAME;\n\n  constructor(settings) {\n    this.#numbersLines = settings.numbersLines;\n    this.#numberCellsInRow = settings.numberCellsInRow;\n    this.#numberFieldCells = this.#numberCellsInRow ** 2;\n    this.player1Character = settings.player1Character;\n    this.player2Character = settings.player2Character;\n    this.#isMyMove = settings.isMyMove;\n    this.#cellsCoordsList = this.coordsCells;\n    this.#sizeTemplateForWin = settings.sizeTemplateForWin;\n    this.gameMode = settings.gameMode;\n  }\n\n  get winDirections() {\n    return {\n      LEFT_TO_RIGHT: `leftToRight`,\n      TOP_TO_BOTTOM: `topToBottom`,\n      LEFT_TOP_TO_RIGHT_BOTTOM: `leftTopToRightBottom`,\n      RIGHT_TOP_TO_LEFT_BOTTOM: `rightTopToLeftBottom`,\n    };\n  }\n\n  get gameStatuses() {\n    return this.#gameStatuses;\n  }\n\n  get gameStatus() {\n    return this.#gameStatus;\n  }\n\n  set gameStatus(status) {\n    this.#gameStatus = status;\n  }\n\n  get isOnlineMode() {\n    return this.gameMode === gameMode.ONLINE;\n  }\n\n  get isFreeze() {\n    return this.isOnlineMode && !this.isMyMove;\n  }\n\n  get cellWidth() {\n    return this.#cellWidth;\n  }\n\n  get cellHeight() {\n    return this.#cellHeight;\n  }\n\n  get imageWidth() {\n    return this.#cellWidth;\n  }\n\n  get imageHeight() {\n    return this.#cellHeight;\n  }\n\n  get isMyMove() {\n    return this.#isMyMove;\n  }\n\n  changePlayer() {\n    this.#isMyMove = !this.#isMyMove;\n  }\n\n  get gameStatusText() {\n    return this.#isMyMove ? ` ` : ` `;\n  }\n\n  get coordsCells() {\n    //   \n\n    if (this.#cellsCoordsList) {\n      return this.#cellsCoordsList;\n    }\n\n    const cellsList = new Array(this.#numberCellsInRow ** 2).fill(null);\n\n    const startCoords = {\n      startX: 0,\n      startY: 0,\n      colIndex: 0,\n      rowIndex: 0,\n      cellsCoordsList: [],\n    };\n\n    const { cellsCoordsList } = cellsList.reduce((startCoords, cell, i) => {\n      let rowCoordsList;\n      const row = this.#numberCellsInRow;\n      let { startX, startY, cellsCoordsList } = startCoords;\n\n      startX = startX + this.#lineWidth;\n      const endX = startX + this.#cellWidth;\n      const coordX = [startX, endX];\n\n      startY = startY + this.#lineWidth;\n      const endY = startY + this.#cellHeight;\n      const coordY = [startY, endY];\n      const rowIndex = i % row ? startCoords.rowIndex : ++startCoords.rowIndex;\n      const colIndex = i % row ? ++startCoords.colIndex : 1;\n\n      if (i % row) {\n        rowCoordsList = startCoords.cellsCoordsList[rowIndex - 1];\n      } else {\n        rowCoordsList = [];\n        cellsCoordsList.push(rowCoordsList);\n      }\n      rowCoordsList.push({\n        index: colIndex - 1,\n        isEmpty: true,\n        coords: [coordX, coordY],\n        rowIndex,\n        colIndex,\n        i,\n      });\n\n      return {\n        startX: (i + 1) % row ? endX : 0,\n        startY: (i + 1) % row ? startY - this.#lineWidth : endY,\n        cellsCoordsList,\n        rowIndex,\n        colIndex,\n      };\n    }, startCoords);\n\n    return cellsCoordsList;\n  }\n\n  get sizeGameField() {\n    if (this.#sizeGameField) {\n      return this.#sizeGameField;\n    }\n\n    return {\n      width: this.#cellWidth * this.#numberCellsInRow + this.#lineWidth * this.#numbersLines,\n      height: this.#cellHeight * this.#numberCellsInRow + this.#lineWidth * this.#numbersLines,\n    };\n  }\n\n  get gameFieldSettings() {\n    return {\n      cellHeight: this.#cellHeight,\n      cellWidth: this.#cellWidth,\n      lineWidth: this.#lineWidth,\n      numbersLines: this.#numbersLines,\n      sizeField: this.sizeGameField,\n    };\n  }\n\n  get isDeadHeat() {\n    return this.#movesList.length === this.#numberFieldCells;\n  }\n\n  get currentPlayer() {\n    return this.isMyMove ? this.player1Character : this.player2Character;\n  }\n\n  changeStateCell(cell) {\n    const currentCell = this.#cellsCoordsList[cell.rowIndex - 1][cell.index];\n    currentCell.symbol = this.currentPlayer;\n    currentCell.isEmpty = false;\n  }\n\n  getCellByCoord(coords) {\n    let currentCell = null;\n    for (let row of this.coordsCells) {\n      const cell = row.find((cell) => {\n        const cellCoord = cell.coords;\n        const coordsX = cellCoord[0];\n        const coordsY = cellCoord[1];\n        const startCoordX = coordsX[0];\n        const endCoordX = coordsX[1];\n        const startCoordY = coordsY[0];\n        const endCoordY = coordsY[1];\n        return startCoordX < coords.x && endCoordX > coords.x && startCoordY < coords.y && endCoordY > coords.y;\n      });\n      if (cell) {\n        currentCell = cell;\n        break;\n      }\n    }\n\n    return currentCell;\n  }\n\n  checkCellsForWinList(symbol, winCellsList, prevCell, cell) {\n    if (symbol != null) {\n      if (winCellsList.length === 0 || symbol === prevCell.symbol) {\n        winCellsList.push(cell);\n      } else {\n        winCellsList.length = 0;\n      }\n    }\n  }\n\n  checkHorizontalLine(startPosition, endPosition, col, winTemplate, direction) {\n    let winCellsList = [];\n    let prevCell = null;\n    let template = ``;\n\n    for (let i = startPosition; i <= endPosition; i++) {\n      const cell = col[i];\n      const symbol = cell.symbol;\n\n      this.checkCellsForWinList(symbol, winCellsList, prevCell, cell);\n\n      prevCell = cell;\n      template = template + (symbol ?? `_`);\n    }\n\n    return {\n      isWin: template.indexOf(winTemplate) !== -1,\n      winCellsList,\n      direction,\n    };\n  }\n\n  checkVerticalLine(startPosition, endPosition, row, winTemplate, colIndex, direction) {\n    let winCellsList = [];\n    let prevCell = null;\n    let template = ``;\n\n    for (let i = startPosition; i <= endPosition; i++) {\n      const row = this.coordsCells[i];\n      const cell = row[colIndex];\n      const symbol = cell.symbol;\n\n      this.checkCellsForWinList(symbol, winCellsList, prevCell, cell);\n\n      prevCell = cell;\n      template = template + (symbol ?? `_`);\n    }\n\n    return {\n      isWin: template.indexOf(winTemplate) !== -1,\n      winCellsList,\n      direction,\n    };\n  }\n\n  checkLeftToRightDiagonal(limitCells, winTemplate, coordsCells, direction) {\n    let winCellsList = [];\n    let prevCell = null;\n    let template = ``;\n    const { leftLimit, topLimit, rightLimit, bottomLimit } = limitCells;\n\n    for (let i = leftLimit, j = topLimit; i <= rightLimit || j <= bottomLimit; i++, j++) {\n      const row = coordsCells[j];\n      const cell = row[i];\n      const symbol = cell.symbol;\n\n      this.checkCellsForWinList(symbol, winCellsList, prevCell, cell);\n\n      prevCell = cell;\n      template = template + (cell.symbol ?? `_`);\n    }\n    return {\n      isWin: template.indexOf(winTemplate) !== -1,\n      winCellsList,\n      direction,\n    };\n  }\n\n  checkRightToLeftDiagonal(limitCells, winTemplate, coordsCells, direction) {\n    let winCellsList = [];\n    let prevCell = null;\n    let template = ``;\n    const { leftLimit, topLimit, rightLimit, bottomLimit } = limitCells;\n\n    for (let i = leftLimit, j = bottomLimit; i <= rightLimit || j >= topLimit; i++, j--) {\n      const row = coordsCells[j];\n      const cell = row[i];\n      const symbol = cell.symbol;\n\n      this.checkCellsForWinList(symbol, winCellsList, prevCell, cell);\n\n      prevCell = cell;\n      template = template + (cell.symbol ?? `_`);\n    }\n\n    return {\n      isWin: template.indexOf(winTemplate) !== -1,\n      winCellsList,\n      direction,\n    };\n  }\n\n  checkWin(currentCell) {\n    this.#movesList.push(currentCell);\n\n    const distanceForCheckToWin = this.#sizeTemplateForWin - 1;\n    const colIndex = currentCell.colIndex - 1;\n    const rowIndex = currentCell.rowIndex - 1;\n\n    const row = this.coordsCells[rowIndex];\n    const rowLength = this.coordsCells.length - 1;\n\n    const player = this.currentPlayer;\n    const winTemplate = player.repeat(this.#sizeTemplateForWin);\n\n    let distanceToLeftBorder = colIndex - distanceForCheckToWin;\n    let distanceToTopBorder = rowIndex - distanceForCheckToWin;\n    let distanceToBottomBorder = rowIndex + distanceForCheckToWin;\n    let distanceToRightBorder = colIndex + distanceForCheckToWin;\n\n    let leftLimit = distanceToLeftBorder < 0 ? 0 : distanceToLeftBorder;\n    let rightLimit = distanceToRightBorder > rowLength ? rowLength : distanceToRightBorder;\n    let topLimit = distanceToTopBorder < 0 ? 0 : distanceToTopBorder;\n    let bottomLimit = distanceToBottomBorder > rowLength ? rowLength : distanceToBottomBorder;\n\n    let resultChecking = null;\n    for (let direction of Object.values(this.winDirections)) {\n      if (resultChecking != null && resultChecking.isWin) {\n        break;\n      }\n      switch (direction) {\n        case this.winDirections.LEFT_TO_RIGHT:\n          resultChecking = this.checkHorizontalLine(leftLimit, rightLimit, row, winTemplate, this.winDirections.LEFT_TO_RIGHT);\n          break;\n\n        case this.winDirections.TOP_TO_BOTTOM:\n          resultChecking = this.checkVerticalLine(topLimit, bottomLimit, row, winTemplate, colIndex, this.winDirections.TOP_TO_BOTTOM);\n          break;\n\n        case this.winDirections.LEFT_TOP_TO_RIGHT_BOTTOM:\n          {\n            distanceToTopBorder = Math.abs(0 - rowIndex);\n            distanceToLeftBorder = Math.abs(0 - colIndex);\n\n            distanceToBottomBorder = Math.abs(rowLength - rowIndex);\n            distanceToRightBorder = Math.abs(rowLength - colIndex);\n\n            const leftTopLimit = Math.min(distanceToTopBorder, distanceToLeftBorder, distanceForCheckToWin);\n            const rightBottomLimit = Math.min(distanceToBottomBorder, distanceToRightBorder, distanceForCheckToWin);\n\n            topLimit = rowIndex - leftTopLimit;\n            bottomLimit = rowIndex + rightBottomLimit;\n            leftLimit = colIndex - leftTopLimit;\n            rightLimit = colIndex + rightBottomLimit;\n\n            let limitCells = {\n              topLimit,\n              bottomLimit,\n              leftLimit,\n              rightLimit,\n            };\n            resultChecking = this.checkLeftToRightDiagonal(\n              limitCells,\n              winTemplate,\n              this.coordsCells,\n              this.winDirections.LEFT_TOP_TO_RIGHT_BOTTOM\n            );\n          }\n\n          break;\n\n        case this.winDirections.RIGHT_TOP_TO_LEFT_BOTTOM: {\n          const rightTopLimit = Math.min(distanceToTopBorder, distanceToRightBorder, distanceForCheckToWin);\n          const leftBottomLimit = Math.min(distanceToBottomBorder, distanceToLeftBorder, distanceForCheckToWin);\n\n          topLimit = rowIndex - rightTopLimit;\n          bottomLimit = rowIndex + leftBottomLimit;\n          leftLimit = colIndex - leftBottomLimit;\n          rightLimit = colIndex + rightTopLimit;\n\n          const limitCells = {\n            topLimit,\n            bottomLimit,\n            leftLimit,\n            rightLimit,\n          };\n\n          resultChecking = this.checkRightToLeftDiagonal(\n            limitCells,\n            winTemplate,\n            this.coordsCells,\n            this.winDirections.RIGHT_TOP_TO_LEFT_BOTTOM\n          );\n        }\n      }\n    }\n\n    if (resultChecking != null && resultChecking.isWin) {\n      resultChecking.gameStatus = this.#gameStatuses.PLAYER_WIN;\n      return resultChecking;\n    }\n\n    if (this.isDeadHeat) {\n      return {\n        gameStatus: this.#gameStatuses.END,\n      };\n    }\n\n    return {\n      gameStatus: this.#gameStatuses.GAME,\n    };\n  }\n}\n\nexport default GameModel;\n","import Router from './router.js';\nimport '../scss/styles.scss';\nimport '../scss/button.scss';\nimport '../scss/loader.scss';\nimport '../scss/modal.scss';\nimport '../scss/welcome-view.scss';\nimport '../scss/settings-view.scss';\nimport '../scss/game-view.scss';\nimport '../scss/form.scss';\n\nwindow.addEventListener(`load`, () => {\n  Router.showWelcome();\n});\n"],"names":["ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","this","module","exports","once","emitter","name","Promise","resolve","reject","errorListener","err","removeListener","resolver","slice","arguments","eventTargetAgnosticAddListener","handler","flags","on","addErrorHandlerIfEventEmitter","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","warning","create","newListener","emit","unshift","push","length","warned","w","Error","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","Array","i","unwrapListeners","arrayClone","listenerCount","n","copy","addEventListener","wrapListener","arg","removeEventListener","defineProperty","enumerable","get","set","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","len","listeners","addListener","prependListener","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","key","keys","rawListeners","eventNames","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","d","a","definition","o","obj","prop","hasOwnProperty","render","html","className","wrapper","document","createElement","classList","add","insertAdjacentHTML","trim","children","constructor","eventName","data","event","forEach","fn","subscribe","filter","eventFn","AbstractView","EventEmmiter","super","template","element","_element","postRender","Loader","status","width","height","statusText","changeStatus","text","loaderTextElement","querySelector","nodeValue","span","appendChild","_factory","_defaults","freeze","el","animate","animateClass","animateInClass","appendTo","backdrop","keyboard","title","header","content","footer","buttons","headerClose","construct","transition","backdropTransition","_buttons","deepFreeze","k","isArray","v","dialog","attr","alert","confirm","_templates","container","body","elData","dataAttr","getAttribute","build","all","nodeName","replace","innerHTML","childNodes","getPath","node","nodes","parentNode","Modal","templates","_baseTemplates","assign","_baseButtons","options","_baseOptions","version","static","_options","question","id","Math","random","toString","_html","_visible","_pointerInContent","_scrollbarWidth","inner","outerWidth","outer","style","visibility","offsetWidth","overflow","removeChild","calcScrollbarWidth","_render","_mapDom","t","_setHeader","_setContent","_setFooter","contains","outerHTML","ineerHTML","button","setAttribute","j","_setEvents","keydownHandler","_handleKeydownEvent","mousedownHandler","_handleMousedownEvent","clickHandler","_handleClickEvent","resizeHandler","_handleResizeEvent","window","e","every","tagName","hide","which","_resize","show","_checkScrollbar","_setScrollbar","display","scrollTop","setTimeout","_backdrop","toggle","modalIsOverflowing","scrollHeight","documentElement","clientHeight","paddingLeft","bodyIsOverflowing","paddingRight","contCList","remove","_removeEvents","originalBodyPad","clientWidth","innerWidth","basePadding","parseInt","getModalSearchingGame","textLoader","onCancelCallback","loader","modal","class","dismissCallback","welcomeViewEvents","showFindGameModal","findGameModal","hideFindGameModal","handleClickStartBtn","preventDefault","handleClickFindGameBtn","handleClickCreateGameBtn","unbind","gameMode","messageType","playerType","socketGetParams","charactersType","templateIconX","templateIconO","settingsOfflineGame","fieldSize","settingsFields","label","fieldType","attrs","settingsOnlineGame","character","items","selected","icon","createMessage","payload","webSocketEvents","OPEN","CLOSE","MESSAGE","ERROR","server","socket","WebSocket","onopen","onOpen","onmessage","onMessage","onclose","onClose","onerror","onError","close","isClear","send","JSON","stringify","parse","peerConnectorEvents","DATA_CHANNEL","CONNECTION_STATE_CHANGE","ICE_CANDIDATE","ICE_CONNECTION_STATE_CHANGE","OPEN_DATA_CHANNEL","MESSAGE_DATA_CHANNEL","CLOSE_DATA_CHANNEL","resolveFn","promise","isInitiator","nameDataChannel","onSocketMessage","dataChannel","initiatorId","recipientId","RTCPeerConnection","onDataChannel","onConnectionStateChange","onIceCandidate","onIceConnectionStateChange","connectionState","addIceCandidate","candidate","channel","onOpenDataChannel","onCloseDataChannel","onMessageDataChannel","clearConnectionTimeout","sendData","createDataChannel","offer","createOffer","setLocalDescription","answer","createAnswer","iceConnectionState","sendIceCandidates","clientId","iceCandidateList","setRemoteDescription","async","responseMessage","setConnectionTimeout","acceptRemoteOffer","then","log","acceptAnswer","clearTimeout","ConnectionService","socketParams","WebSocketConnector","PeerConnector","peerConnection","sendMessage","subscribeMessageServer","callback","subscribeServer","createConnection","closeConnect","getSettingsGameByMode","mode","getIconPlayerTemplateByCharacter","settingsViewEvents","settings","onSaveSettings","showCreateGameModal","createGameModal","hideCreateGameModal","submitter","formData","FormData","onBackBtnHandler","renderFormFields","formFields","map","field","indexFormControl","it","join","getCharactersListTemplate","renderBtn","isOnlineMode","gameViewEvents","Map","fieldSettings","cellHeight","cellWidth","lineWidth","widthField","sizeField","heightField","numbersLines","handleClickCanvas","handleRetry","handleBackToMain","changeMoveStatusText","moveStatusEl","textContent","drawGameField","ctx","beginPath","strokeStyle","fill","curr","indent","moveTo","lineTo","stroke","closePath","playerImage","image","iconTemplate","characterName","svgString","img","Image","blob","Blob","src","URL","createObjectURL","onload","getImagePlayer","cell","nameImg","widthImg","heightImg","renderImage","x","coords","y","x1","y1","ceil","drawImage","renderWinLine","coordsWinLine","startX1Coords","startX2Coords","endY1Coords","endY2Coords","showRetryBtn","removeAttribute","getContext","changeView","welcomeScreen","welcomeView","WelcomeView","startOfflineGame","findOnlineGame","createOnlineGame","remoteGameSettings","gameSettings","player1Character","player2Character","isMyMove","unsubscribeMessageDataChannel","Router","onCloseSocket","unsubscribeWebsocketClose","settingsScreen","settingFields","settingsView","SettingsView","unsubscribeOnSaveSettings","saveSettings","unsubscribeOnBackBtn","backToView","showGame","settingsData","settingsFormData","nameSetting","valueSetting","getObjectFromFormData","isOnlineGame","numberCellsInRow","sizeTemplateForWin","playerCharacter","createConnect","unsubscribeOpenDataChannel","destroyListeners","connection","onStartCallback","startGame","gameView","onClickGameField","gameModel","isFreeze","gameStatus","gameStatuses","END","clickCoords","offsetX","offsetY","getCellByCoord","isEmpty","move","needSend","imgName","currentPlayer","drawImgInCell","imageWidth","imageHeight","changeStateCell","winObj","checkWin","GAME","PLAYER_WIN","getWinLineCoords","changePlayer","gameStatusText","direction","winCellsList","directions","winDirections","startCell","endCell","middleOfCell","LEFT_TO_RIGHT","TOP_TO_BOTTOM","RIGHT_TOP_TO_LEFT_BOTTOM","LEFT_TOP_TO_RIGHT_BOTTOM","unsubscribeDataChannel","unsubscribeCloseDataChannel","retryGame","backToMainPage","unsubscribeClickGameField","unsubscribeBackToMain","unsubscribeRetry","coordsCells","cellsList","cellsCoordsList","reduce","startCoords","rowCoordsList","row","startX","startY","endX","coordX","endY","coordY","rowIndex","colIndex","sizeGameField","gameFieldSettings","isDeadHeat","currentCell","symbol","find","cellCoord","coordsX","coordsY","startCoordX","endCoordX","startCoordY","endCoordY","checkCellsForWinList","prevCell","checkHorizontalLine","startPosition","endPosition","col","winTemplate","isWin","indexOf","checkVerticalLine","checkLeftToRightDiagonal","limitCells","leftLimit","topLimit","rightLimit","bottomLimit","checkRightToLeftDiagonal","distanceForCheckToWin","rowLength","repeat","distanceToLeftBorder","distanceToTopBorder","distanceToBottomBorder","distanceToRightBorder","resultChecking","values","abs","leftTopLimit","min","rightBottomLimit","rightTopLimit","leftBottomLimit","GameView"],"sourceRoot":""}